{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "model",
  "type": "registry:component",
  "title": "Model",
  "description": "Integrate 3D model",
  "dependencies": [
    "@react-three/fiber",
    "@react-three/drei",
    "three"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/chatcn/model.tsx",
      "content": "\"use client\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { Environment, Float, OrbitControls, Loader, useGLTF, useAnimations } from \"@react-three/drei\";\nimport React, { Suspense, ReactNode, useEffect } from \"react\";\n\nexport type EnvironmentPreset = \"city\" | \"night\" | \"sunset\" | \"forest\" | \"warehouse\" | \"studio\" | \"apartment\";\nexport type LightingType = \"soft\" | \"dramatic\" | \"studio\";\n\nexport interface ModelProps {\n  children: ReactNode;\n  width?: string;\n  height?: string;\n  fov?: number;\n  cameraPosition?: [number, number, number];\n  shadow?: boolean;\n}\n\nexport function ModelContent({\n  children,\n  width = \"100%\",\n  height = \"100%\",\n  fov = 45,\n  cameraPosition = [0, 0, 4],\n  shadow = false,\n}: ModelProps) {\n  return (\n    <div style={{ width, height }}>\n      <Canvas camera={{ fov, position: cameraPosition }} shadows={shadow}>\n        <Suspense fallback={null}>{children}</Suspense>\n      </Canvas>\n      <Loader />\n    </div>\n  );\n}\n\nexport function ModelScene({ bgColor = \"#000000\", env = \"city\" }: { bgColor?: string; env?: EnvironmentPreset }) {\n  return (\n    <>\n      <color attach=\"background\" args={[bgColor]} />\n      <Environment preset={env} />\n    </>\n  );\n}\n\nexport function ModelCamera({ fov = 45, position = [0, 0, 4] }: { fov?: number; position?: [number, number, number] }) {\n  return null;\n}\n\nexport function ModelLighting({ type = \"soft\", shadow = false }: { type?: LightingType; shadow?: boolean }) {\n  if (type === \"soft\") return <ambientLight intensity={0.4} />;\n  if (type === \"dramatic\") return <directionalLight position={[2, 2, 5]} intensity={1.2} />;\n  if (type === \"studio\")\n    return (\n      <>\n        <ambientLight intensity={0.5} />\n        <spotLight position={[10, 10, 10]} intensity={1.5} castShadow={shadow} />\n      </>\n    );\n  return null;\n}\n\nexport function Model({\n  src,\n  scale = 1,\n  position = [0, 0, 0],\n  rotation = [0,0,0],\n  float = false,\n}: {\n  src: string;\n  scale?: number;\n  position?: [number, number, number];\n  rotation?: [number, number, number];\n  float?: boolean;\n}) \n{\n  const { scene, animations } = useGLTF(src);\n  const { actions } = useAnimations(animations, scene as any);\n  useEffect(() => {\n    Object.values(actions).forEach((action) => action?.play());\n  }, [actions]);\n\n  const content = <primitive object={scene} scale={scale} position={position} rotation={rotation}/>;\n\n  return float ? <Float>{content}</Float> : content;\n}\n\nexport function ModelControls({ autoRotate = false, rotationSpeed = 1, zoom = false, reverse = false , ...props}: { autoRotate?: boolean; rotationSpeed?: number; zoom?: boolean, reverse?: boolean, [key: string]: any;}) {\n  return <OrbitControls enableZoom={zoom} autoRotate={autoRotate} autoRotateSpeed={rotationSpeed} reverseOrbit={reverse}  {...props}/>;\n}\n",
      "type": "registry:component"
    }
  ]
}